<view class="community-page data-v-5fb47dc3"><view class="category-tabs data-v-5fb47dc3"><scroll-view class="tab-scroll data-v-5fb47dc3" scroll-x="{{true}}"><view class="tab-list data-v-5fb47dc3"><block wx:for="{{categories}}" wx:for-item="tab" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['switchCategory',['$0'],[[['categories','',index,'value']]]]]]]}}" class="{{['tab-item','data-v-5fb47dc3',(currentCategory===tab.value)?'active':'']}}" bindtap="__e">{{''+tab.label+''}}</view></block></view></scroll-view></view><scroll-view class="topic-list data-v-5fb47dc3" scroll-y="{{true}}" refresher-enabled="{{true}}" refresher-triggered="{{isRefreshing}}" data-event-opts="{{[['scrolltolower',[['loadMore',['$event']]]],['refresherrefresh',[['onRefresh',['$event']]]]]}}" bindscrolltolower="__e" bindrefresherrefresh="__e"><block wx:if="{{$root.g0}}"><view class="empty-state data-v-5fb47dc3"><u-icon vue-id="d24888ba-1" name="chat" size="64" color="#C7C7CC" class="data-v-5fb47dc3" bind:__l="__l"></u-icon><text class="empty-text data-v-5fb47dc3">暂无话题</text><text class="empty-hint data-v-5fb47dc3">快来发布第一个话题吧</text></view></block><block wx:for="{{$root.l0}}" wx:for-item="topic" wx:for-index="__i0__" wx:key="id"><view data-event-opts="{{[['tap',[['goToDetail',['$0'],[[['topics','id',topic.$orig.id,'id']]]]]]]}}" class="topic-item data-v-5fb47dc3" bindtap="__e"><block wx:if="{{topic.$orig.is_pinned}}"><view class="pinned-tag data-v-5fb47dc3"><u-icon vue-id="{{'d24888ba-2-'+__i0__}}" name="pushpin" size="12" color="#FF9500" class="data-v-5fb47dc3" bind:__l="__l"></u-icon><text class="pinned-text data-v-5fb47dc3">置顶</text></view></block><view class="topic-content data-v-5fb47dc3"><text class="topic-title data-v-5fb47dc3">{{topic.$orig.title}}</text><text class="topic-summary data-v-5fb47dc3">{{topic.$orig.contentSummary}}</text></view><view class="topic-author data-v-5fb47dc3"><image class="author-avatar data-v-5fb47dc3" src="{{topic.$orig.author_avatar||'/static/images/default-avatar.png'}}" mode="aspectFill"></image><text class="author-name data-v-5fb47dc3">{{topic.$orig.author_name}}</text><text class="publish-time data-v-5fb47dc3">{{topic.m0}}</text></view><view class="topic-stats data-v-5fb47dc3"><view class="stat-item data-v-5fb47dc3"><u-icon vue-id="{{'d24888ba-3-'+__i0__}}" name="eye" size="16" color="#86868B" class="data-v-5fb47dc3" bind:__l="__l"></u-icon><text class="stat-value data-v-5fb47dc3">{{topic.$orig.views_count||0}}</text></view><view data-event-opts="{{[['tap',[['likeTopic',['$0'],[[['topics','id',topic.$orig.id]]]]]]]}}" class="stat-item data-v-5fb47dc3" catchtap="__e"><u-icon vue-id="{{'d24888ba-4-'+__i0__}}" name="{{topic.$orig.isLiked?'heart-fill':'heart'}}" size="16" color="{{topic.$orig.isLiked?'#FF4444':'#86868B'}}" class="data-v-5fb47dc3" bind:__l="__l"></u-icon><text class="stat-value data-v-5fb47dc3">{{topic.$orig.likes_count||0}}</text></view><view class="stat-item data-v-5fb47dc3"><u-icon vue-id="{{'d24888ba-5-'+__i0__}}" name="chat" size="16" color="#86868B" class="data-v-5fb47dc3" bind:__l="__l"></u-icon><text class="stat-value data-v-5fb47dc3">{{topic.$orig.comments_count||0}}</text></view></view></view></block><block wx:if="{{hasMore}}"><view class="load-more data-v-5fb47dc3"><u-loadmore vue-id="d24888ba-6" status="{{loadStatus}}" class="data-v-5fb47dc3" bind:__l="__l"></u-loadmore></view></block></scroll-view><view data-event-opts="{{[['tap',[['goToPublish',['$event']]]]]}}" class="publish-btn data-v-5fb47dc3" bindtap="__e"><u-icon vue-id="d24888ba-7" name="plus" size="24" color="#FFFFFF" class="data-v-5fb47dc3" bind:__l="__l"></u-icon></view></view>